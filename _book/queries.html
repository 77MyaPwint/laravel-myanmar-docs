<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    
    <head>
        
        <meta charset="UTF-8">
        <title>Query Builder | Laravel Framework Documentation (Myanmar)</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 0.5.2">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="./eloquent.html" />
    
    
    <link rel="prev" href="./database.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">

    
    <link rel="stylesheet" href="gitbook/plugins/plugin-zawgyicss/zawgyi.css">
    


        
    <div class="book"  data-level="4.2" data-basepath="." data-revision="1403607994904">
    <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="btn-group btn-block">
        <button id="reduce-font-size" class="btn btn-default">A</button>
        <button id="enlarge-font-size" class="btn btn-default">A</button>
    </div>

    <ul class="list-group font-family-list">
        <li class="list-group-item" data-font="0">Serif</li>
        <li class="list-group-item" data-font="1">Sans</li>
    </ul>

    <div class="btn-group btn-group-xs btn-block color-theme-list">
        <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
        <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
    </div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    

    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Laravel Framework Documentation (Myanmar)</a>
    </h1>
</div>

    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        

        

        

        

        <li data-level="0" data-path="index.html">
            <a href="./"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
    
        <li class="chapter " data-level="1" data-path="introduction.html">
            
            <a href="./introduction.html">
                <i class="fa fa-check"></i> <b>1.</b> Laravel နိဒါန္း
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="introduction.html">
            
            <a href="./introduction.html">
                <i class="fa fa-check"></i> <b>1.1.</b> Laravel မိတ္ဆက္
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="quick.html">
            
            <a href="./quick.html">
                <i class="fa fa-check"></i> <b>1.2.</b> Laravel အက်ဥ္းခ်ဳပ္
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="releases.html">
            
            <a href="./releases.html">
                <i class="fa fa-check"></i> <b>1.3.</b> Release Notes
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="upgrade.html">
            
            <a href="./upgrade.html">
                <i class="fa fa-check"></i> <b>1.4.</b> Upgrade Guide
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="installation.html">
            
            <a href="./installation.html">
                <i class="fa fa-check"></i> <b>2.</b> Laravel ကိုစတင္ေလ႕လာျခင္း (အေျခခံ)
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="installation.html">
            
            <a href="./installation.html">
                <i class="fa fa-check"></i> <b>2.1.</b> Laravel install လုပ္ျခင္း
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="configuration.html">
            
            <a href="./configuration.html">
                <i class="fa fa-check"></i> <b>2.2.</b> Configuration လုပ္ျခင္း
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="homestead.html">
            
            <a href="./homestead.html">
                <i class="fa fa-check"></i> <b>2.3.</b> Laravel ရဲ႕ Official Development Homestead အေၾကာင္း
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="lifecycle.html">
            
            <a href="./lifecycle.html">
                <i class="fa fa-check"></i> <b>2.4.</b> Request Lifecycle 
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="routing.html">
            
            <a href="./routing.html">
                <i class="fa fa-check"></i> <b>2.5.</b> Route လုပ္ျခင္းအေၾကာင္း
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="requests.html">
            
            <a href="./requests.html">
                <i class="fa fa-check"></i> <b>2.6.</b> Requests ႏွင္႕ Input မ်ားအေၾကာင္း 
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="responses.html">
            
            <a href="./responses.html">
                <i class="fa fa-check"></i> <b>2.7.</b> Views ႏွင္႕ Responses မ်ားအေၾကာင္း
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="controllers.html">
            
            <a href="./controllers.html">
                <i class="fa fa-check"></i> <b>2.8.</b> Controllers မ်ားအေၾကာင္း
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="errors.html">
            
            <a href="./errors.html">
                <i class="fa fa-check"></i> <b>2.9.</b> Errors ႏွင္႕ Logging မ်ားအေၾကာင္း
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="security.html">
            
            <a href="./security.html">
                <i class="fa fa-check"></i> <b>3.</b> Laravel ကုိေလ့လာျခင္း (အဆင့္ျမင့္)
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="security.html">
            
            <a href="./security.html">
                <i class="fa fa-check"></i> <b>3.1.</b> Authentication
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="billing.html">
            
            <a href="./billing.html">
                <i class="fa fa-check"></i> <b>3.2.</b> Billing
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="cache.html">
            
            <a href="./cache.html">
                <i class="fa fa-check"></i> <b>3.3.</b> Cache
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="extending.html">
            
            <a href="./extending.html">
                <i class="fa fa-check"></i> <b>3.4.</b> Core Extension
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="events.html">
            
            <a href="./events.html">
                <i class="fa fa-check"></i> <b>3.5.</b> Events
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="facades.html">
            
            <a href="./facades.html">
                <i class="fa fa-check"></i> <b>3.6.</b> Facades
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="html.html">
            
            <a href="./html.html">
                <i class="fa fa-check"></i> <b>3.7.</b> Forms &amp; HTML
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="helpers.html">
            
            <a href="./helpers.html">
                <i class="fa fa-check"></i> <b>3.8.</b> Helpers
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="ioc.html">
            
            <a href="./ioc.html">
                <i class="fa fa-check"></i> <b>3.9.</b> IoC Container
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="localization.html">
            
            <a href="./localization.html">
                <i class="fa fa-check"></i> <b>3.10.</b> Localization
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="mail.html">
            
            <a href="./mail.html">
                <i class="fa fa-check"></i> <b>3.11.</b> Mail
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.12" data-path="packages.html">
            
            <a href="./packages.html">
                <i class="fa fa-check"></i> <b>3.12.</b> Package Development
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.13" data-path="pagination.html">
            
            <a href="./pagination.html">
                <i class="fa fa-check"></i> <b>3.13.</b> Pagination
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.14" data-path="queues.html">
            
            <a href="./queues.html">
                <i class="fa fa-check"></i> <b>3.14.</b> Queues
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.15" data-path="security.html">
            
            <a href="./security.html">
                <i class="fa fa-check"></i> <b>3.15.</b> Security
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.16" data-path="session.html">
            
            <a href="./session.html">
                <i class="fa fa-check"></i> <b>3.16.</b> Session
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.17" data-path="ssh.html">
            
            <a href="./ssh.html">
                <i class="fa fa-check"></i> <b>3.17.</b> SSH
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.18" data-path="templates.html">
            
            <a href="./templates.html">
                <i class="fa fa-check"></i> <b>3.18.</b> Templates
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.19" data-path="testing.html">
            
            <a href="./testing.html">
                <i class="fa fa-check"></i> <b>3.19.</b> Unit Testing
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.20" data-path="validation.html">
            
            <a href="./validation.html">
                <i class="fa fa-check"></i> <b>3.20.</b> Validation
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="database.html">
            
            <a href="./database.html">
                <i class="fa fa-check"></i> <b>4.</b> Database
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="database.html">
            
            <a href="./database.html">
                <i class="fa fa-check"></i> <b>4.1.</b> အေျခခံ အသုံးျပဳပုံ
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="queries.html">
            
            <a href="./queries.html">
                <i class="fa fa-check"></i> <b>4.2.</b> Query Builder
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="eloquent.html">
            
            <a href="./eloquent.html">
                <i class="fa fa-check"></i> <b>4.3.</b> Eloquent ORM
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="schema.html">
            
            <a href="./schema.html">
                <i class="fa fa-check"></i> <b>4.4.</b> Schema Builder
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="migrations.html">
            
            <a href="./migrations.html">
                <i class="fa fa-check"></i> <b>4.5.</b> Migrations &amp; Seeding
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="redis.html">
            
            <a href="./redis.html">
                <i class="fa fa-check"></i> <b>4.6.</b> Redis
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="artisan.html">
            
            <a href="./artisan.html">
                <i class="fa fa-check"></i> <b>5.</b> Artisan CLI
            </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="artisan.html">
            
            <a href="./artisan.html">
                <i class="fa fa-check"></i> <b>5.1.</b> Overview
            </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="commands.html">
            
            <a href="./commands.html">
                <i class="fa fa-check"></i> <b>5.2.</b> Development
            </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="contributing.html">
            
            <a href="./contributing.html">
                <i class="fa fa-check"></i> <b>6.</b> Contributing
            </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 82.92682926829268%;min-width: 80.48780487804878%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./introduction.html" title="Laravel မိတ္ဆက္" class="chapter done " data-progress="1.1" style="left: 2.4390243902439024%;"></a>
    
        <a href="./quick.html" title="Laravel အက်ဥ္းခ်ဳပ္" class="chapter done " data-progress="1.2" style="left: 4.878048780487805%;"></a>
    
        <a href="./releases.html" title="Release Notes" class="chapter done " data-progress="1.3" style="left: 7.317073170731708%;"></a>
    
        <a href="./upgrade.html" title="Upgrade Guide" class="chapter done " data-progress="1.4" style="left: 9.75609756097561%;"></a>
    
        <a href="./installation.html" title="Laravel install လုပ္ျခင္း" class="chapter done " data-progress="2.1" style="left: 12.195121951219512%;"></a>
    
        <a href="./configuration.html" title="Configuration လုပ္ျခင္း" class="chapter done " data-progress="2.2" style="left: 14.634146341463415%;"></a>
    
        <a href="./homestead.html" title="Laravel ရဲ႕ Official Development Homestead အေၾကာင္း" class="chapter done " data-progress="2.3" style="left: 17.073170731707318%;"></a>
    
        <a href="./lifecycle.html" title="Request Lifecycle " class="chapter done " data-progress="2.4" style="left: 19.51219512195122%;"></a>
    
        <a href="./routing.html" title="Route လုပ္ျခင္းအေၾကာင္း" class="chapter done " data-progress="2.5" style="left: 21.951219512195124%;"></a>
    
        <a href="./requests.html" title="Requests ႏွင္႕ Input မ်ားအေၾကာင္း " class="chapter done " data-progress="2.6" style="left: 24.390243902439025%;"></a>
    
        <a href="./responses.html" title="Views ႏွင္႕ Responses မ်ားအေၾကာင္း" class="chapter done " data-progress="2.7" style="left: 26.829268292682926%;"></a>
    
        <a href="./controllers.html" title="Controllers မ်ားအေၾကာင္း" class="chapter done " data-progress="2.8" style="left: 29.26829268292683%;"></a>
    
        <a href="./errors.html" title="Errors ႏွင္႕ Logging မ်ားအေၾကာင္း" class="chapter done " data-progress="2.9" style="left: 31.70731707317073%;"></a>
    
        <a href="./localization.html" title="Localization" class="chapter done " data-progress="3.10" style="left: 34.146341463414636%;"></a>
    
        <a href="./mail.html" title="Mail" class="chapter done " data-progress="3.11" style="left: 36.58536585365854%;"></a>
    
        <a href="./packages.html" title="Package Development" class="chapter done " data-progress="3.12" style="left: 39.02439024390244%;"></a>
    
        <a href="./pagination.html" title="Pagination" class="chapter done " data-progress="3.13" style="left: 41.46341463414634%;"></a>
    
        <a href="./queues.html" title="Queues" class="chapter done " data-progress="3.14" style="left: 43.90243902439025%;"></a>
    
        <a href="./security.html" title="Security" class="chapter done " data-progress="3.15" style="left: 46.34146341463415%;"></a>
    
        <a href="./session.html" title="Session" class="chapter done " data-progress="3.16" style="left: 48.78048780487805%;"></a>
    
        <a href="./ssh.html" title="SSH" class="chapter done " data-progress="3.17" style="left: 51.21951219512195%;"></a>
    
        <a href="./templates.html" title="Templates" class="chapter done " data-progress="3.18" style="left: 53.65853658536585%;"></a>
    
        <a href="./testing.html" title="Unit Testing" class="chapter done " data-progress="3.19" style="left: 56.09756097560975%;"></a>
    
        <a href="./billing.html" title="Billing" class="chapter done " data-progress="3.2" style="left: 58.53658536585366%;"></a>
    
        <a href="./validation.html" title="Validation" class="chapter done " data-progress="3.20" style="left: 60.97560975609756%;"></a>
    
        <a href="./cache.html" title="Cache" class="chapter done " data-progress="3.3" style="left: 63.41463414634146%;"></a>
    
        <a href="./extending.html" title="Core Extension" class="chapter done " data-progress="3.4" style="left: 65.85365853658537%;"></a>
    
        <a href="./events.html" title="Events" class="chapter done " data-progress="3.5" style="left: 68.29268292682927%;"></a>
    
        <a href="./facades.html" title="Facades" class="chapter done " data-progress="3.6" style="left: 70.73170731707317%;"></a>
    
        <a href="./html.html" title="Forms &amp; HTML" class="chapter done " data-progress="3.7" style="left: 73.17073170731707%;"></a>
    
        <a href="./helpers.html" title="Helpers" class="chapter done " data-progress="3.8" style="left: 75.60975609756098%;"></a>
    
        <a href="./ioc.html" title="IoC Container" class="chapter done " data-progress="3.9" style="left: 78.04878048780488%;"></a>
    
        <a href="./database.html" title="အေျခခံ အသုံးျပဳပုံ" class="chapter done " data-progress="4.1" style="left: 80.48780487804878%;"></a>
    
        <a href="./queries.html" title="Query Builder" class="chapter done " data-progress="4.2" style="left: 82.92682926829268%;"></a>
    
        <a href="./eloquent.html" title="Eloquent ORM" class="chapter  " data-progress="4.3" style="left: 85.36585365853658%;"></a>
    
        <a href="./schema.html" title="Schema Builder" class="chapter  " data-progress="4.4" style="left: 87.8048780487805%;"></a>
    
        <a href="./migrations.html" title="Migrations &amp; Seeding" class="chapter  " data-progress="4.5" style="left: 90.2439024390244%;"></a>
    
        <a href="./redis.html" title="Redis" class="chapter  " data-progress="4.6" style="left: 92.6829268292683%;"></a>
    
        <a href="./artisan.html" title="Overview" class="chapter  " data-progress="5.1" style="left: 95.1219512195122%;"></a>
    
        <a href="./commands.html" title="Development" class="chapter  " data-progress="5.2" style="left: 97.5609756097561%;"></a>
    
        <a href="./contributing.html" title="Contributing" class="chapter  new-chapter" data-progress="6" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_27">
                    
                        <h1 id="query-builder">Query Builder</h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#selects">Selects</a></li>
<li><a href="#joins">Joins</a></li>
<li><a href="#advanced-wheres">Advanced Wheres</a></li>
<li><a href="#aggregates">Aggregates</a></li>
<li><a href="#raw-expressions">Raw Expressions</a></li>
<li><a href="#inserts">Inserts</a></li>
<li><a href="#updates">Updates</a></li>
<li><a href="#deletes">Deletes</a></li>
<li><a href="#unions">Unions</a></li>
<li><a href="#pessimistic-locking">Pessimistic Locking</a></li>
<li><a href="#caching-queries">Caching Queries</a></li>
</ul>
<p><a name="introduction"></a></p>
<h2 id="introduction">Introduction</h2>
<p>The database query builder provides a convenient, fluent interface to creating and running database queries. It can be used to perform most database operations in your application, and works on all supported database systems.</p>
<blockquote>
<p><strong>Note:</strong> The Laravel query builder uses PDO parameter binding throughout to protect your application against SQL injection attacks. There is no need to clean strings being passed as bindings.</p>
</blockquote>
<p><a name="selects"></a></p>
<h2 id="selects">Selects</h2>
<h4 id="retrieving-all-rows-from-a-table">Retrieving All Rows From A Table</h4>
<pre><code>$users = DB::table(&#39;users&#39;)-&gt;get();

foreach ($users as $user)
{
    var_dump($user-&gt;name);
}
</code></pre><h4 id="retrieving-a-single-row-from-a-table">Retrieving A Single Row From A Table</h4>
<pre><code>$user = DB::table(&#39;users&#39;)-&gt;where(&#39;name&#39;, &#39;John&#39;)-&gt;first();

var_dump($user-&gt;name);
</code></pre><h4 id="retrieving-a-single-column-from-a-row">Retrieving A Single Column From A Row</h4>
<pre><code>$name = DB::table(&#39;users&#39;)-&gt;where(&#39;name&#39;, &#39;John&#39;)-&gt;pluck(&#39;name&#39;);
</code></pre><h4 id="retrieving-a-list-of-column-values">Retrieving A List Of Column Values</h4>
<pre><code>$roles = DB::table(&#39;roles&#39;)-&gt;lists(&#39;title&#39;);
</code></pre><p>This method will return an array of role titles. You may also specify a custom key column for the returned array:</p>
<pre><code>$roles = DB::table(&#39;roles&#39;)-&gt;lists(&#39;title&#39;, &#39;name&#39;);
</code></pre><h4 id="specifying-a-select-clause">Specifying A Select Clause</h4>
<pre><code>$users = DB::table(&#39;users&#39;)-&gt;select(&#39;name&#39;, &#39;email&#39;)-&gt;get();

$users = DB::table(&#39;users&#39;)-&gt;distinct()-&gt;get();

$users = DB::table(&#39;users&#39;)-&gt;select(&#39;name as user_name&#39;)-&gt;get();
</code></pre><h4 id="adding-a-select-clause-to-an-existing-query">Adding A Select Clause To An Existing Query</h4>
<pre><code>$query = DB::table(&#39;users&#39;)-&gt;select(&#39;name&#39;);

$users = $query-&gt;addSelect(&#39;age&#39;)-&gt;get();
</code></pre><h4 id="using-where-operators">Using Where Operators</h4>
<pre><code>$users = DB::table(&#39;users&#39;)-&gt;where(&#39;votes&#39;, &#39;&gt;&#39;, 100)-&gt;get();
</code></pre><h4 id="or-statements">Or Statements</h4>
<pre><code>$users = DB::table(&#39;users&#39;)
                    -&gt;where(&#39;votes&#39;, &#39;&gt;&#39;, 100)
                    -&gt;orWhere(&#39;name&#39;, &#39;John&#39;)
                    -&gt;get();
</code></pre><h4 id="using-where-between">Using Where Between</h4>
<pre><code>$users = DB::table(&#39;users&#39;)
                    -&gt;whereBetween(&#39;votes&#39;, array(1, 100))-&gt;get();
</code></pre><h4 id="using-where-not-between">Using Where Not Between</h4>
<pre><code>$users = DB::table(&#39;users&#39;)
                    -&gt;whereNotBetween(&#39;votes&#39;, array(1, 100))-&gt;get();
</code></pre><h4 id="using-where-in-with-an-array">Using Where In With An Array</h4>
<pre><code>$users = DB::table(&#39;users&#39;)
                    -&gt;whereIn(&#39;id&#39;, array(1, 2, 3))-&gt;get();

$users = DB::table(&#39;users&#39;)
                    -&gt;whereNotIn(&#39;id&#39;, array(1, 2, 3))-&gt;get();
</code></pre><h4 id="using-where-null-to-find-records-with-unset-values">Using Where Null To Find Records With Unset Values</h4>
<pre><code>$users = DB::table(&#39;users&#39;)
                    -&gt;whereNull(&#39;updated_at&#39;)-&gt;get();
</code></pre><h4 id="order-by-group-by-and-having">Order By, Group By, And Having</h4>
<pre><code>$users = DB::table(&#39;users&#39;)
                    -&gt;orderBy(&#39;name&#39;, &#39;desc&#39;)
                    -&gt;groupBy(&#39;count&#39;)
                    -&gt;having(&#39;count&#39;, &#39;&gt;&#39;, 100)
                    -&gt;get();
</code></pre><h4 id="offset-limit">Offset &amp; Limit</h4>
<pre><code>$users = DB::table(&#39;users&#39;)-&gt;skip(10)-&gt;take(5)-&gt;get();
</code></pre><p><a name="joins"></a></p>
<h2 id="joins">Joins</h2>
<p>The query builder may also be used to write join statements. Take a look at the following examples:</p>
<h4 id="basic-join-statement">Basic Join Statement</h4>
<pre><code>DB::table(&#39;users&#39;)
            -&gt;join(&#39;contacts&#39;, &#39;users.id&#39;, &#39;=&#39;, &#39;contacts.user_id&#39;)
            -&gt;join(&#39;orders&#39;, &#39;users.id&#39;, &#39;=&#39;, &#39;orders.user_id&#39;)
            -&gt;select(&#39;users.id&#39;, &#39;contacts.phone&#39;, &#39;orders.price&#39;)
            -&gt;get();
</code></pre><h4 id="left-join-statement">Left Join Statement</h4>
<pre><code>DB::table(&#39;users&#39;)
        -&gt;leftJoin(&#39;posts&#39;, &#39;users.id&#39;, &#39;=&#39;, &#39;posts.user_id&#39;)
        -&gt;get();
</code></pre><p>You may also specify more advanced join clauses:</p>
<pre><code>DB::table(&#39;users&#39;)
        -&gt;join(&#39;contacts&#39;, function($join)
        {
            $join-&gt;on(&#39;users.id&#39;, &#39;=&#39;, &#39;contacts.user_id&#39;)-&gt;orOn(...);
        })
        -&gt;get();
</code></pre><p>If you would like to use a &quot;where&quot; style clause on your joins, you may use the <code>where</code> and <code>orWhere</code> methods on a join. Instead of comparing two columns, these methods will compare the column against a value:</p>
<pre><code>DB::table(&#39;users&#39;)
        -&gt;join(&#39;contacts&#39;, function($join)
        {
            $join-&gt;on(&#39;users.id&#39;, &#39;=&#39;, &#39;contacts.user_id&#39;)
                 -&gt;where(&#39;contacts.user_id&#39;, &#39;&gt;&#39;, 5);
        })
        -&gt;get();
</code></pre><p><a name="advanced-wheres"></a></p>
<h2 id="advanced-wheres">Advanced Wheres</h2>
<h4 id="parameter-grouping">Parameter Grouping</h4>
<p>Sometimes you may need to create more advanced where clauses such as &quot;where exists&quot; or nested parameter groupings. The Laravel query builder can handle these as well:</p>
<pre><code>DB::table(&#39;users&#39;)
            -&gt;where(&#39;name&#39;, &#39;=&#39;, &#39;John&#39;)
            -&gt;orWhere(function($query)
            {
                $query-&gt;where(&#39;votes&#39;, &#39;&gt;&#39;, 100)
                      -&gt;where(&#39;title&#39;, &#39;&lt;&gt;&#39;, &#39;Admin&#39;);
            })
            -&gt;get();
</code></pre><p>The query above will produce the following SQL:</p>
<pre><code>select * from users where name = &#39;John&#39; or (votes &gt; 100 and title &lt;&gt; &#39;Admin&#39;)
</code></pre><h4 id="exists-statements">Exists Statements</h4>
<pre><code>DB::table(&#39;users&#39;)
            -&gt;whereExists(function($query)
            {
                $query-&gt;select(DB::raw(1))
                      -&gt;from(&#39;orders&#39;)
                      -&gt;whereRaw(&#39;orders.user_id = users.id&#39;);
            })
            -&gt;get();
</code></pre><p>The query above will produce the following SQL:</p>
<pre><code>select * from users
where exists (
    select 1 from orders where orders.user_id = users.id
)
</code></pre><p><a name="aggregates"></a></p>
<h2 id="aggregates">Aggregates</h2>
<p>The query builder also provides a variety of aggregate methods, such as <code>count</code>, <code>max</code>, <code>min</code>, <code>avg</code>, and <code>sum</code>.</p>
<h4 id="using-aggregate-methods">Using Aggregate Methods</h4>
<pre><code>$users = DB::table(&#39;users&#39;)-&gt;count();

$price = DB::table(&#39;orders&#39;)-&gt;max(&#39;price&#39;);

$price = DB::table(&#39;orders&#39;)-&gt;min(&#39;price&#39;);

$price = DB::table(&#39;orders&#39;)-&gt;avg(&#39;price&#39;);

$total = DB::table(&#39;users&#39;)-&gt;sum(&#39;votes&#39;);
</code></pre><p><a name="raw-expressions"></a></p>
<h2 id="raw-expressions">Raw Expressions</h2>
<p>Sometimes you may need to use a raw expression in a query. These expressions will be injected into the query as strings, so be careful not to create any SQL injection points! To create a raw expression, you may use the <code>DB::raw</code> method:</p>
<h4 id="using-a-raw-expression">Using A Raw Expression</h4>
<pre><code>$users = DB::table(&#39;users&#39;)
                     -&gt;select(DB::raw(&#39;count(*) as user_count, status&#39;))
                     -&gt;where(&#39;status&#39;, &#39;&lt;&gt;&#39;, 1)
                     -&gt;groupBy(&#39;status&#39;)
                     -&gt;get();
</code></pre><h4 id="incrementing-or-decrementing-a-value-of-a-column">Incrementing or decrementing a value of a column</h4>
<pre><code>DB::table(&#39;users&#39;)-&gt;increment(&#39;votes&#39;);

DB::table(&#39;users&#39;)-&gt;increment(&#39;votes&#39;, 5);

DB::table(&#39;users&#39;)-&gt;decrement(&#39;votes&#39;);

DB::table(&#39;users&#39;)-&gt;decrement(&#39;votes&#39;, 5);
</code></pre><p>You may also specify additional columns to update:</p>
<pre><code>DB::table(&#39;users&#39;)-&gt;increment(&#39;votes&#39;, 1, array(&#39;name&#39; =&gt; &#39;John&#39;));
</code></pre><p><a name="inserts"></a></p>
<h2 id="inserts">Inserts</h2>
<h4 id="inserting-records-into-a-table">Inserting Records Into A Table</h4>
<pre><code>DB::table(&#39;users&#39;)-&gt;insert(
    array(&#39;email&#39; =&gt; &#39;john@example.com&#39;, &#39;votes&#39; =&gt; 0)
);
</code></pre><h4 id="inserting-records-into-a-table-with-an-auto-incrementing-id">Inserting Records Into A Table With An Auto-Incrementing ID</h4>
<p>If the table has an auto-incrementing id, use <code>insertGetId</code> to insert a record and retrieve the id:</p>
<pre><code>$id = DB::table(&#39;users&#39;)-&gt;insertGetId(
    array(&#39;email&#39; =&gt; &#39;john@example.com&#39;, &#39;votes&#39; =&gt; 0)
);
</code></pre><blockquote>
<p><strong>Note:</strong> When using PostgreSQL the insertGetId method expects the auto-incrementing column to be named &quot;id&quot;.</p>
</blockquote>
<h4 id="inserting-multiple-records-into-a-table">Inserting Multiple Records Into A Table</h4>
<pre><code>DB::table(&#39;users&#39;)-&gt;insert(array(
    array(&#39;email&#39; =&gt; &#39;taylor@example.com&#39;, &#39;votes&#39; =&gt; 0),
    array(&#39;email&#39; =&gt; &#39;dayle@example.com&#39;, &#39;votes&#39; =&gt; 0),
));
</code></pre><p><a name="updates"></a></p>
<h2 id="updates">Updates</h2>
<h4 id="updating-records-in-a-table">Updating Records In A Table</h4>
<pre><code>DB::table(&#39;users&#39;)
            -&gt;where(&#39;id&#39;, 1)
            -&gt;update(array(&#39;votes&#39; =&gt; 1));
</code></pre><p><a name="deletes"></a></p>
<h2 id="deletes">Deletes</h2>
<h4 id="deleting-records-in-a-table">Deleting Records In A Table</h4>
<pre><code>DB::table(&#39;users&#39;)-&gt;where(&#39;votes&#39;, &#39;&lt;&#39;, 100)-&gt;delete();
</code></pre><h4 id="deleting-all-records-from-a-table">Deleting All Records From A Table</h4>
<pre><code>DB::table(&#39;users&#39;)-&gt;delete();
</code></pre><h4 id="truncating-a-table">Truncating A Table</h4>
<pre><code>DB::table(&#39;users&#39;)-&gt;truncate();
</code></pre><p><a name="unions"></a></p>
<h2 id="unions">Unions</h2>
<p>The query builder also provides a quick way to &quot;union&quot; two queries together:</p>
<pre><code>$first = DB::table(&#39;users&#39;)-&gt;whereNull(&#39;first_name&#39;);

$users = DB::table(&#39;users&#39;)-&gt;whereNull(&#39;last_name&#39;)-&gt;union($first)-&gt;get();
</code></pre><p>The <code>unionAll</code> method is also available, and has the same method signature as <code>union</code>.</p>
<p><a name="pessimistic-locking"></a></p>
<h2 id="pessimistic-locking">Pessimistic Locking</h2>
<p>The query builder includes a few functions to help you do &quot;pessimistic locking&quot; on your SELECT statements.</p>
<p>To run the SELECT statement with a &quot;shared lock&quot;, you may use the <code>sharedLock</code> method on a query:</p>
<pre><code>DB::table(&#39;users&#39;)-&gt;where(&#39;votes&#39;, &#39;&gt;&#39;, 100)-&gt;sharedLock()-&gt;get();
</code></pre><p>To &quot;lock for update&quot; on a SELECT statement, you may use the <code>lockForUpdate</code> method on a query:</p>
<pre><code>DB::table(&#39;users&#39;)-&gt;where(&#39;votes&#39;, &#39;&gt;&#39;, 100)-&gt;lockForUpdate()-&gt;get();
</code></pre><p><a name="caching-queries"></a></p>
<h2 id="caching-queries">Caching Queries</h2>
<p>You may easily cache the results of a query using the <code>remember</code> method:</p>
<pre><code>$users = DB::table(&#39;users&#39;)-&gt;remember(10)-&gt;get();
</code></pre><p>In this example, the results of the query will be cached for ten minutes. While the results are cached, the query will not be run against the database, and the results will be loaded from the default cache driver specified for your application.</p>
<p>If you are using a <a href="cache#cache-tags.html">supported cache driver</a>, you can also add tags to the caches:</p>
<pre><code>$users = DB::table(&#39;users&#39;)-&gt;cacheTags(array(&#39;people&#39;, &#39;authors&#39;))-&gt;remember(10)-&gt;get();
</code></pre>
                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="./database.html" class="navigation navigation-prev " aria-label="Previous page: အေျခခံ အသုံးျပဳပုံ"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./eloquent.html" class="navigation navigation-next " aria-label="Next page: Eloquent ORM"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
<script src="gitbook/app.js"></script>

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
